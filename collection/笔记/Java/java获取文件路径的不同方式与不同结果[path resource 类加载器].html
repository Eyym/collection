<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>java获取文件路径的不同方式与不同结果</title>
    <link rel="stylesheet" type="text/css" href="/collection/css/common.css">
    <script src="/collection/js/common.js"></script>
</head>
<body>
<aside></aside>
<article>
    <header>
        <h1>java获取文件路径的不同方式与不同结果</h1>
        <div id="info">
            <span id="time">2018-12-09</span>
            作者：<span id="author"><a href="javascript:myAlert();">loubth</a></span>
        </div>
    </header>
    <div class="content">
            <pre style="background-color:#000000;color:#d8d8d8;font-family:'宋体';font-size:12pt;"><span style="color:#60ff60;">package </span><span style="color:#2b91af;">cn.loubth.web</span>;<br><br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">javax.servlet.ServletException</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">javax.servlet.annotation.</span><span style="color:#757575;">WebServlet</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">javax.servlet.http.HttpServlet</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">javax.servlet.http.HttpServletRequest</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">javax.servlet.http.HttpServletResponse</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">java.io.File</span>;<br><span style="color:#60ff60;">import </span><span style="color:#2b91af;">java.io.IOException</span>;<br><br><span style="color:#757575;">@WebServlet</span>(name = <span style="color:#ffa0a0;">"ServletTest"</span>)<br><span style="color:#60ff60;">public class </span><span style="color:#2b91af;">ServletTest </span><span style="color:#60ff60;">extends </span><span style="color:#2b91af;">HttpServlet </span>{<br>    <span style="color:#60ff60;">protected void </span><span style="color:#ffffff;">doPost</span>(<span style="color:#2b91af;">HttpServletRequest </span><span style="color:#bfa4a4;">request</span>, <span style="color:#2b91af;">HttpServletResponse </span><span style="color:#bfa4a4;">response</span>) <span style="color:#60ff60;">throws </span><span style="color:#2b91af;">ServletException</span>, <span style="color:#2b91af;">IOException </span>{<br><br>    }<br><br>    <span style="color:#60ff60;">protected void </span><span style="color:#ffffff;">doGet</span>(<span style="color:#2b91af;">HttpServletRequest </span><span style="color:#bfa4a4;">request</span>, <span style="color:#2b91af;">HttpServletResponse </span><span style="color:#bfa4a4;">response</span>) <span style="color:#60ff60;">throws </span><span style="color:#2b91af;">ServletException</span>, <span style="color:#2b91af;">IOException </span>{<br><br><span style="color:#757575;">//-------------------------------第一类--------------------------------------------------------<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path1=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">""</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/cn/loubth/web/<br></span><span style="color:#757575;">        //String path2=this.getClass().getResource(".").getPath();<br></span><span style="color:#757575;">        //结果：   报错，空指针异常<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path3=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">"/"</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path4=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">"\\"</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/cn/loubth/web/<br></span><span style="color:#757575;"><br></span><span style="color:#757575;">//-------------------------------第二类--------------------------------------------------------<br></span><span style="color:#757575;"><br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path5=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getClassLoader</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">""</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path6=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getClassLoader</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">"."</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/apache-tomcat-7.0.77-windows-x64/apache-tomcat-7.0.77/lib/<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path7=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getClassLoader</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">"/"</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path8=<span style="color:#60ff60;">this</span>.<span style="color:#ffffff;">getClass</span>().<span style="color:#ffffff;">getClassLoader</span>().<span style="color:#ffffff;">getResource</span>(<span style="color:#ffa0a0;">"\\"</span>).<span style="color:#ffffff;">getPath</span>();<br>        <span style="color:#757575;">//结果：   /C:/Users/Administrator/IdeaProjects/FirstWebProject/out/artifacts/FirstWebProject_war_exploded/231sINF/classes/<br></span><span style="color:#757575;"><br></span><span style="color:#757575;">//-------------------------------第三类--------------------------------------------------------<br></span><span style="color:#757575;"><br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path9=<span style="color:#60ff60;">new </span><span style="color:#ffffff;">File</span>(<span style="color:#ffa0a0;">""</span>).<span style="color:#ffffff;">getAbsolutePath</span>();<br>        <span style="color:#757575;">//结果：   C:\apache-tomcat-7.0.77-windows-x64\apache-tomcat-7.0.77\bin<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path10=<span style="color:#60ff60;">new </span><span style="color:#ffffff;">File</span>(<span style="color:#ffa0a0;">"."</span>).<span style="color:#ffffff;">getAbsolutePath</span>();<br>        <span style="color:#757575;">//结果：   C:\apache-tomcat-7.0.77-windows-x64\apache-tomcat-7.0.77\bin\.<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path11=<span style="color:#60ff60;">new </span><span style="color:#ffffff;">File</span>(<span style="color:#ffa0a0;">"/"</span>).<span style="color:#ffffff;">getAbsolutePath</span>();<br>        <span style="color:#757575;">//结果：   C:\<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">String </span>path12=<span style="color:#60ff60;">new </span><span style="color:#ffffff;">File</span>(<span style="color:#ffa0a0;">"\\"</span>).<span style="color:#ffffff;">getAbsolutePath</span>();<br>        <span style="color:#757575;">//结果：   C:\<br></span><span style="color:#757575;"><br></span><span style="color:#757575;">//-------------------------------输出结果--------------------------------------------------------<br></span><span style="color:#757575;">        <br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path1);<br>        <span style="color:#757575;">//System.out.println(path2);    //因为报错所以就不输出了<br></span><span style="color:#757575;">        </span><span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path3);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path4);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path5);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path6);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path7);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path8);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path9);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path10);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path11);<br>        <span style="color:#2b91af;">System</span>.<span style="color:#660e7a;font-weight:bold;font-style:italic;">out</span>.<span style="color:#ffffff;">println</span>(path12);<br><br>    }<br>}<br></pre>
    </div>
</article>
<footer></footer>
</body>
</html>
